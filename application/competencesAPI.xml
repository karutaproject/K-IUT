PRINCIPE DE FONCTIONNEMENT

Un référentiel contient des compétences organisées en groupes.
Un référentiel a un id (attribué par le système), un code et un libellé saisis par le designer.
Il y a obligatoirement au moins un groupe dont le libellé peut être vide. CE QUI SIMULE PAS DEGROUPE.

-- Référentiel prédéfini par le designer
Une compétence a un id (attribué par le système), un code et un libellé saisis par le designer.

-- Référentiel avec saisie libre 
Un référentiel est défini avec un groupe sans code ni libellé ou avec des groupes avec codes et libellés saisis par le designer.
Lorsque l'usager saisit une nouvelle compétence, elle est intégrée dans le référentiel, le système lui attribue un id mais le code reste vide.
Le designer peut intégrer officiellement la compétence dans le référentiel en lui attribuant un code.

Passibilité d'avoir des variantes de compétences.
Exemple compétence : Faire une présentation, variante: da (en Danois)

Activité-id, comptence-id et variante forment la clé. Par défaut la variante est une chaine vide.


POST ajout d'une compétence

<competence id=''>
	<portfolio id=''/>
	<activite id=''>
		<semtag></semtag>
	</activite>
	<username></username>
	<variante></variante>
	<competence-label lang=''></competence-label> // obligatoire si id compétence vide
	<referentiel id=''/>
	<groupe id=''/>
</competence>

DEL suppression d'une compétence

<competence id=''>
	<activite id=''>	
</competence>

GET liste des compétences d'un référentiel
paramètre: referentiel-id

<referentiel id=''>
	<type></type>
	<groupe id=''>
		<group-label lang=''></group-label>
		<group-label lang=''></group-label>
		...
		<competence id=''>
			<code></code>  // le code est vide pour une compétence en saisie libre
			<competence-label lang=''></<competence-label lang=''>>
			<competence-label lang=''> lang=''></<competence-label lang=''>
			...
		</competence>
	</groupe>
</referentiel>

PUT modification des ressources associées

<competence id=''>
	<activite id=''>
	<ressource>
		<type></type>
		<content>
			 ... xml des ressources ...
		</content>
	</ressource>
</competence>

GET liste des compétences d'une activité du portfolio
paramètre: 
 - activite-id ou portfolio-id
 - liste-type-referentiel
 - liste-domaine
résultat ordonné selon
	1. type
	2. domaine
	3. référentiel

<referentiel id=''>
	<domaine id=''>
		<domaine-label lang=''></domaine-label>
		<domaine-label lang=''></domaine-label>
		...
	</domaine>
	<type></type>
	<groupe id=''>
		<groupe-label lang=''></groupe-label>
		<groupe-label lang=''></groupe-label>
		...
		<competence id=''>
			<activite id=''/>
			<competence-label lang=''></competence-label>
			<competence-label lang=''></competence-label>
			<variante></variante>
			...
			<ressource>
				<type></type>
				<content>
					 ... xml des ressources ...
				 </content>
			</ressource>
		</competence>
		<competence id=''>
			...
		</competence>
	</groupe>
	<groupe id=''>
		...
	</groupe>	
</referentiel>
